{% extends 'theme/base.html' %} {% load static %} {% block content %}
<section class="container-fluid">
	<div class="row">
		<div class="col-10 offset-1 dark-font d-flex flex-wrap align-content-around">
			<div class="col-4 col-sm-3 col-md-2 p-2 p-sm-5">
				<span>
					<i class="fa fa-usd" aria-hidden="true"></i> 0.00</span>
			</div>
			<div class="col-4 col-sm-3 col-md-2  p-2 p-sm-5">
				<span>
					<i class="fa fa-eur" aria-hidden="true"></i> 0.00</span>
			</div>
			<div class="col-4 col-sm-3 col-md-2  p-2 p-sm-5">
				<span>
					<i class="fa fa-btc" aria-hidden="true"></i> 0.00</span>
			</div>
			<div class="col-12 col-sm-3 col-md-2  p-2 p-sm-5 ml-auto">
				<a class="exhange-btn-back">Back</a>
			</div>
		</div>
	</div>
</section>


<section class="section-blue container-fluid">
	<div class="p-1 p-md-5">

		<script src="{% static 'js/chart.bundle.js' %}"></script>
		<canvas id="myChart" class="canvas-style">
		</canvas>



		<div id='chartjsLegend' class='chartjsLegend col-md-2 d-flex flex-col align-items-center align-self-center'>
			<div class="col-3">
				<i class="fa fa-bitcoin"></i>
			</div>
			<div class="col-9">
				<div class="col-12">13%</div>
				<div class="col-12">
					<span>Bitcoin</span>
				</div>
				<div class="col-12"></div>
				<div class="col-12">$45678.098</div>
			</div>
		</div>

		<script>
			var ctx = document.getElementById("myChart");
			var myChart = new Chart(ctx, {
				type: 'doughnut',
				data: {
					labels: ["Bitcoin", "BitcoinCash", "BitcoinGold", "Ethereum", "Monero", "LiteCoin"],
					datasets: [{
						label: '# of Votes',
						data: [12, 19, 3, 5, 2, 3],
						backgroundColor: [
							'rgba(255, 99, 132, 1)',
							'rgba(54, 162, 235, 1)',
							'rgba(255, 206, 86, 1)',
							'rgba(75, 192, 192, 1)',
							'rgba(153, 102, 255, 1)',
							'rgba(255, 159, 64, 1)'
						],
						borderColor: [
							'rgba(255,99,132,1)',
							'rgba(54, 162, 235, 1)',
							'rgba(255, 206, 86, 1)',
							'rgba(75, 192, 192, 1)',
							'rgba(153, 102, 255, 1)',
							'rgba(255, 159, 64, 1)'
						],
						borderWidth: 1
					}]
				},

				options: {
					legend: {

						position: 'bottom',
						display: true,
						labels: {
							fontColor: '#064385',
						},
						legendCallback: function (chart) {
							// Return the HTML string here.
							document.getElementById('chartjsLegend').innerHTML = myChart.generateLegend();
						}
					}
				}
			});
		</script>

	</div>
</section>

<section class="col-12 section-spacing">
	<div class=" p-md-5 p-lg-3">
		<div class="row p-xl-5">
			<div class="col-12 col-md-6">
				<h2>BTC Calculator:</h2>
				<h5>Check current exchange rates and make your profit from buying/selling bitcoins!
				</h5>
				<p>Turn Bitcoin Into Dollars and Spend Anywhere! Millions of people have made a fortune with bitcoins! Bitcoin is a type
					of digital currency in which encryption techniques are used to regulate the generation of units of currency and verify
					the transfer of funds, operating independently of a central bank.
				</p>
				<div class="row text-center exchange">
					<div class="col-sm-5 rect-input">
						<input type="text" name="" id="convert_amount" value="1" class="col-5" placeholder="Deposit">
						<select id="convert_from" class="col-6 rect-select">
							<option value="0">BTC</option>
							<option value="1">Ethereum</option>
							<option value="2">Litecoin</option>
							<option value="3">Monero</option>
							<option value="4">Bitcoin Cash</option>
							<option value="5">Bitcoin Gold</option>
						</select>
					</div>
					<div class="col-12 col-sm-2 text-center">
						<i class="fa fa-exchange retweet" aria-hidden="true"></i>
					</div>
					<div class="col-sm-5 rect-input">
						<input type="text" name="" id="converted_amount" class="col-5" placeholder="Receive">
						<select id="convert_to" class="col-6 rect-select">
							<option value="0">BTC</option>
							<option value="1">Ethereum</option>
							<option value="2" selected>Litecoin</option>
							<option value="3">Monero</option>
							<option value="4">Bitcoin Cash</option>
							<option value="5">Bitcoin Gold</option>
						</select>
					</div>

					<div class="col-12">
						<button class="btn btn-secondary" type="submit" onclick="window.location='{% url 'confirm' %}'">Exchange</button>
					</div>
				</div>
			</div>
			<div class="col-12 col-md-6">

				<h2>Cryptocurrency Price</h2>
				<script type="text/javascript">
					crypt_multi_num_cur = "6";
					crypt_base_cur_0 = "Bitcoin (BTC)";
					crypt_target_cur_0 = "US Dollar (USD)";
					crypt_base_cur_1 = "Litecoin (LTC)";
					crypt_target_cur_1 = "US Dollar (USD)";
					crypt_base_cur_2 = "Ethereum (ETH)";
					crypt_target_cur_2 = "US Dollar (USD)";
					crypt_base_cur_3 = "Monero (XMR)";
					crypt_target_cur_3 = "US Dollar (USD)";
					crypt_base_cur_4 = "Bitcoin Cash  (BCH)";
					crypt_target_cur_4 = "US Dollar (USD)";
					crypt_base_cur_5 = "Bitcoin Gold (BTG)";
					crypt_target_cur_5 = "US Dollar (USD)";
				</script>
				<!-- <script type="text/javascript" src="https://www.cryptonator.com/ui/js/widget/multi_widget.js"></script> -->
			</div>
		</div>
	</div>

</section>


<section class="col-12 ">
	<div class=" p-md-5 p-lg-3">
		<div class="row p-xl-5">
			{% for i in "123456" %}
			<div class="col-6 col-sm-4 col-md-3 col-lg-2 mt-1">
				<a href="#chart">
					<div class=" crypto-box bg-dark" id="addbg">
						<span id="data_from">BTC</span>&nbsp;
						<span>$</span>
						<br>

						<span>2.3</span>&nbsp;
						<spanid="data_to">BTC</span>
					</div>
				</a>
			</div>
			{% endfor %}
		</div>
	</div>
</section>

{% endblock %} {% block script %}
<script type="text/javascript">
	convertWidget();
	$('#convert_from,#convert_to').change(function () {
		convertWidget();


	})

	$('#convert_amount').keyup(function () {
		convertWidget();


	})

	function convertWidget() {
		convert_from = $('#convert_from').val()
		convert_to = $('#convert_to').val()
		amount = $('#convert_amount').val()

		$.ajax({
			type: "POST",
			url: "{% url 'exchange_rate' %}",
			data: {
				'from': convert_from,
				'to': convert_to,
				'amount': amount,
				csrfmiddlewaretoken: '{{ csrf_token }}'
			},
			success: function (data) {
				$("#converted_amount").attr({
					'value': data.result
				});
			}
		})
	}
</script> {% endblock %}